[{attribute,{loc,[],0,0},module,scope_if},
 {function,{loc,[],0,0},
           foo,1,
           [{fun_clause,{loc,[],0,0},
                        [{var,{loc,[],0,0},{local_bind,{'X',0}}}],
                        [],
                        [{'if',{loc,[],0,0},
                               [{if_clause,{loc,[],0,0},
                                           [[{op,{loc,[],0,0},'==',{var,{loc,[],0,0},{local_ref,{'X',0}}},{integer,{loc,[],0,0},1}}]],
                                           [{'case',{loc,[],0,0},
                                                    {integer,{loc,[],0,0},1},
                                                    [{case_clause,{loc,[],0,0},
                                                                  {match,{loc,[],0,0},{var,{loc,[],0,0},{local_bind,{'$X_0',0}}},{var,{loc,[],0,0},{local_bind,{'A',0}}}},
                                                                  [],
                                                                  [{var,{loc,[],0,0},{local_ref,{'$X_0',0}}}]}]}]},
                                {if_clause,{loc,[],0,0},
                                           [[{atom,{loc,[],0,0},true}]],
                                           [{'case',{loc,[],0,0},
                                                    {integer,{loc,[],0,0},2},
                                                    [{case_clause,{loc,[],0,0},
                                                                  {match,{loc,[],0,0},{var,{loc,[],0,0},{local_bind,{'$X_0',0}}},{var,{loc,[],0,0},{local_bind,{'A',0}}}},
                                                                  [],
                                                                  [{var,{loc,[],0,0},{local_ref,{'$X_0',0}}}]}]}]}]},
                         {var,{loc,[],0,0},{local_ref,{'A',0}}}]}]}].
